{% extends "base.html" %}
{% block content %}
<h2>Analytics Dashboard</h2>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
  <div class="card">
    <h3>{{ total_workouts }}</h3>
    <p>Total Workouts</p>
  </div>
  <div class="card">
    <h3>{{ avg_workouts_per_week }}</h3>
    <p>Workouts/Week</p>
  </div>
</div>

<div class="card" style="margin: 20px 0;">
  <h3>Personal Records</h3>
  {% if personal_records %}
  <table style="width: 100%;">
    <thead>
      <tr style="border-bottom: 2px solid #ddd;">
        <th style="text-align: left; padding: 8px;">Exercise</th>
        <th style="text-align: left; padding: 8px;">Muscle</th>
        <th style="text-align: center; padding: 8px;">Max Weight</th>
        <th style="text-align: center; padding: 8px;">Date</th>
      </tr>
    </thead>
    <tbody>
      {% for name, muscle, weight, date in personal_records %}
      <tr style="border-bottom: 1px solid #eee;">
        <td style="padding: 8px;">{{ name }}</td>
        <td style="padding: 8px;">{{ muscle.title() }}</td>
        <td style="text-align: center; padding: 8px;">{{ weight }} lbs</td>
        <td style="text-align: center; padding: 8px;">{{ date.strftime('%b %d, %Y') if date else 'N/A' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No workout data yet. Start training to see your records!</p>
  {% endif %}
</div>
{% endblock %}